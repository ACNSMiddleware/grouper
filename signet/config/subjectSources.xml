<?xml version="1.0" encoding="utf-8"?>

<!-- $Header: /home/hagleyj/i2mi/signet/config/subjectSources.xml,v 1.4 2006-11-30 04:21:49 ddonn Exp $ -->

<!--
	Signet Subject Source Mapping File
		The elements in this file map the elements in the Subject API to the
		SignetSources interface.

	File Dependencies:
		signet.properties references this file (i.e. property
			signet.subject.sources)
		sources.xml declares Sources that elements in this file refernce
			(i.e. sourceId="local_person")

	A signetSubjectSources comprises:
		one persistedSubjectSource
		one-or-more signetSubjectSource
	A persistedSubjectSource comprises:
		sourceId : a unique id
		sourceName : a user-friendly name for display
		latencyMinutes : time interval that determines whether the persisted
			Subject is stale and requires resynchronization with it's
			original Source, if it is available.
		and has the following attributes:
			one signetName : the mappedAttribute value Signet uses as Name 
			one signetSortName : the mappedAttribute value Signet uses as SortName
			one signetDescription : the mappedAttribute value Signet uses as Description
			ont signetDisplayId : the mappedAttribute value Signet uses as DisplayId
			one contactEmail : the mappedAttribute value Signet uses as ContactEmail
			one-or-more outputXml : the mappedAttribute value(s) to use when writing info to XML (i.e. dump function)
			one-or-more uniqueId : the mappedAttribute value(s) to use as key fields
	A signetSubjectSource comprises:
		sourceId : a unique identifier that binds a SignetSubjectSource to a SubjectAPI Source
		signetName : Signet's friendly, displayable description of the underlying Source
		status : Active or Inactive
		failover : If true, use whatever information is available (i.e. from
			the persistent store) if the Source is not available
		type : Signet-specific classification of the Source
		and has the following attributes:
			one-or-more usage : A means of categorizing a Source. For instance,
				usage might contain a value of 'login' to indicate that this
				Source can be used for finding login IDs.
			one-or-more mappedAttribute : Maps a Source field to a persisted
				store attribute name.
			one-or-more outputXML : Lists the fields to export to the
				provisioning XML file.
-->

<signetSubjectSources>

	<persistedSubjectSource
			sourceId="PersistedSubjectSource"
			sourceName="Signet Persisted Subjects"
			latencyMinutes="42"	>
		<!--
		The following are "attributes of interest" for Signet (when Signet acts
		like an application, in it's GUI, for instance). Their values
		correspond to mappedAttribute names in each Source brought in from the
		SubjectAPI via the SubjectSources.xml. For instance, if a JDBC Source,
		defined within a signetSubjectSource block, has mapped a DB field called
		"name" to the persistedSubjectSource attribute "subjectName", then the
		values from that Source will be stored in Signet's persistence layer
		with the attribute name "subjectName" and a value of "Dent, Arthur".
		Or, to put it another way, the values of these elements are the
		attribute names used for adding attributes to Signet's persisted Subjects.
		All signetSubjectSources need to map their attribute names (field names,
		in the case of a database Source) to these values if they are to be
		persisted.
		-->
		<signetName>subjectName</signetName >
		<signetSortName>subjectSortName</signetSortName >
		<signetDescription>subjectDescription</signetDescription >
		<signetDisplayId>subjectDisplayId</signetDisplayId >
		<contactEmail>subjectAuthId</contactEmail>

		<!-- Output the following fields to the XML file for "Provisioning" -->
		<outputXml>subjectName, subjectDisplayId</outputXml>
		<outputXml>subjectDescription</outputXml>

		<uniqueId>subjectAuthId</uniqueId>
		<uniqueId>subjectName</uniqueId>
	</persistedSubjectSource>


	<!-- Mappings for the Source called "local_person" -->
	<signetSubjectSource
			sourceId="local_person"
			sourceName="Stanford People"
			subjectType="person"
			status="active"
			failover="true" >
		<usage>login, search</usage>
		<usage>foobar</usage>
		<usage>blah</usage>
		<!--
		The following are "attributes of interest" for this Source. Any Subject
		derived (i.e. "persisted" by Signet) from this Source will have each of
		these. 'sourceName' refers to what the Source calls it's attribute,
		'mappedName' points to an element in the persistedSubjectSource. 
		 -->
		<mappedAttribute sourceName="name"			mappedName="subjectName" />
		<mappedAttribute sourceName="name"			mappedName="subjectSortName" />
		<mappedAttribute sourceName="description"	mappedName="subjectDescription" />
		<mappedAttribute sourceName="loginid"		mappedName="subjectDisplayId" />
		<mappedAttribute sourceName="loginid"		mappedName="subjectAuthId" />
	</signetSubjectSource>


	<!-- Mappings for the Source called "local_group" -->
	<signetSubjectSource
			sourceId="local_group"
			sourceName="Stanford Groups"
			subjectType="group"
			status="active"
			failover="true" >
		<usage>foobar</usage>
		<usage>blah</usage>
		<!--
		The following are "attributes of interest" for this Source. Any Subject
		derived (i.e. "persisted" by Signet) from this Source will have each of
		these. 'sourceName' refers to what the Source calls it's attribute,
		'mappedName' points to an element in the persistedSubjectSource. 
		 -->
		<mappedAttribute sourceName="name"			mappedName="subjectName" />
		<mappedAttribute sourceName="name"			mappedName="subjectSortName" />
		<mappedAttribute sourceName="description"	mappedName="subjectDescription" />
		<mappedAttribute sourceName="loginid"		mappedName="subjectDisplayId" />
		<mappedAttribute sourceName="loginid"		mappedName="subjectAuthId" />
	</signetSubjectSource>

</signetSubjectSources>

(Itemized changes from CVS tags SIGNET_1_2_2a through SIGNET_1_3_0, inclusive)

Release Notes for CVS-tagged version Signet_1_2_2a 
--------------------------------------------------

1. Increased visibility of several class' methods in preparation for 
   Signet XML work.

2. Some minor cleanup/fixup of javadoc comments.

3. Added methods to HibernateDB.java to get Function objects from DB.

4. Added getActingAs() method to SignetSubject.java.

5. Added optional command-line parameter to dist-signet_cp.bat to allow
   setting base directory lib files.


Release Notes for CVS-tagged version Signet_1_2_2b 
--------------------------------------------------

1. Fix JavaDoc warnings in SignetSubject.java

2. Modified visibility of many methods in preparation for SignetXml

3. Added JAXB 2.1.5 libs in preparation for SignetXml


Release Notes for CVS-tagged version Signet_1_2_2c
--------------------------------------------------

1. Added SignetXml


Release Notes for CVS-tagged version Signet_1_2_2d
--------------------------------------------------

1. Moved Xb stub files
      from util/SignetXml/xmlstubs/com/lidoservices/jaxbtest/stubs
      to   util/SignetXml/xmlstubs/signet/stubs

2. Added namespace to Xml stub files.

3. Simplified SignetSubjectRefXb to only primary key, subject id, and source id.

4. Added getLimit(int limit_pk) and getLimit(String subsystemId, String limitId)
to HibernateDB.java.

5. Cleaned up Log initialization in EntityImplXa and all subclasses.

6. Added LimitImplRefXa.java. LimitImplXa subclasses from it. LimitValueXa now
uses a LimitImplRefXa.

7. Added JavaDoc comments to all Adapter layer classes.

8. Fixed some problems in buildSignetXmlDefs.xml task definition file.


Release Notes for CVS-tagged version Signet_1_2_2e
--------------------------------------------------

1. Fixed problem with TreeNodeImpl.toString() regarding display of Scope Tree in UI.

2. Fixed problem with error message format for property Signet.msg.exc.noAdapter_2 (in file signetResApp.properties)

3. Updated SignetXml commandHelp.txt

4. Added SignetXml to QuickStart build

5. Moved JAXB taskdefs into build.xml. Deleted buildSignetXmlDefs.xml


Release Notes for CVS-tagged version Signet_1_2_2f
--------------------------------------------------

1. Changed AssignmentImpl.scope from TreeNode to TreeNodeImpl. This changes
   the API for AssignmentImpl.java. Spcifically - the constructor, setScope,
   and getScope.

2. Moved Hibernate Query strings from HibernateDB to new class HibernateQry

3. Cleaned-up the use of Session in several HibernateDB methods

4. Added new methods to HibernateDB: getAssignmentsBySubsystem(), 
   getAssignmentsByFunction(), getAssignmentsByScope()

5. Generalized SignetApiUtil.setEntitysSignetValue to accept 
   Collection<EntityImpl> instead of Set

6. Modified the SignetXml command-line utility's parameters 
   (see util/SignetXml/commandHelp.txt for details)

7. SignetXml class (command-line for XML import/export) was extremely 
   heavyweight. Started migrating functionality to other classes:
     Command.java - container for XML commands (parsed from command-line for 
        now, but could later be used programmatically or by a GUI)
     CommandOptions.java - container for command-line options (e.g. -h -v)
     XmlUtil.java - utility methods and base class for AssignmentXml (and 
        others to follow)
     AssignmentXml.java - Given a Command object, figures out how to
        export Assignments

8. Added Signet-specific information to MANIFEST.MF in the webapp WAR file


Release Notes for CVS-tagged version Signet_1_2_2g
--------------------------------------------------

1. Cleaned up SignetXml.java 

2. Made the following classes (or methods in them) public: ChoiceImpl, 
ChoiceSetImpl, GrantableImpl, 

3. Removed unused methods
edu.internet2.middleware.signet.Entity.getCreateDatetime()
edu.internet2.middleware.signet.EntityImpl.setCreateDatetime()

4. Removed references to Permissions from LimitImpl (unused, and also 
doubly-linked)

5. Removed references to Functions from Permission (unused, and also
doubly-linked)

6. Added getSubjectsBySourceId(String sourceId) to Signet.java

7. Added several methods to HibernateDB:
getSubsystemById(Stirng id), getSubsystemById(Session hs, Stirng id)
getTreeBySubsystemId(String id), getTreeBySubsystemId(Session hs, String id)
getTrees(Session hs)
getSubsystems(Status status)
getSubsystemsByName(Session hs, String subsysName, Status status)
getSubsystemsByScopeTree(Session hs, String scopeTreeId, Status status)
getSubjectsByAttributeValue(String attrName, String attrValue)
getSubjects()
getSubjectsBySourceId(String sourceId)

8. Added many queries to HibernateQry.java

9. Implemented PersistedSignetSource.getSubjects() (was always returning empty
set).

10. Modified SignetSubject.getAssignmentsReceived(String isActive) and
getProxiesReceived(String isActive) to accept a null or zero-length parameter
in which case it returns all assignments or proxies.

11. Added SignetSubject.getPrivileges(Status status)

12. Added
edu.internet2.middleware.signet.util.xml.PermissionXml.java, 
edu.internet2.middleware.signet.util.xml.SubjectXml.java,
edu.internet2.middleware.signet.util.xml.SubsystemXml.java

13. Added
edu.internet2.middleware.signet.util.xml.adapter.ChoiceImplXa.java
edu.internet2.middleware.signet.util.xml.adapter.FunctionImplRefXa.java
edu.internet2.middleware.signet.util.xml.adapter.PermissionImplRefXa.java
edu.internet2.middleware.signet.util.xml.adapter.PrivilegeXa.java

14. Switched to C3P0 Connection Pooling (Hibernate's version)


Release Notes for CVS-tagged version Signet_1_2_2h
--------------------------------------------------

1. Fixed problems with command line processing
2. Fixed endless loop
3. Fixed missing jar in dist-signet_cp.bat
4. Fixed problem with exporting a permission with no subsystem (signet_superuser)


Release Notes for CVS-tagged version Signet_1_2_2i
--------------------------------------------------

1. Forgot to modify output for "View XML" in UI to use new PermissionXa


Release Notes for CVS-tagged version Signet_1_3_0rc02
-----------------------------------------------------

1. Bug fixes:
    SIG-32 : NullPointerException from "View XML" link
    SIG-33 : Proxy data not in Assignment XML
    SIG-34 : Assignment XML should support container structure
    SIG-35 : NullPointerException throw on export scopeTree
    SIG-36 : Scope Tree XML should support container structure
    SIG-38 : A command-arg that contains multiple colon delimiters fails to be processed
    SIG-39 : SignetXML creates an output file called 'stdout.xml' when no xmlFilename is provided

2. Added new method:
        HibernateDB.getProxies(String status)
   Added new members:
        HibernateQry.Qry_proxiesAll
        HibernateQry.Qry_proxiesByStatus

3. Made the command-line command parser case-insensitive

4. Removed Command.java and split it into CommandArg.java and CommandOptions.java

5. The various XML processors (e.g. AssignmentXml, PermissionXml, ScopeTreeXml,
   SubjectXml, SubsystemXml) now require a SignetXa instance instead of a
   Signet instance.

6. Changed the way SignetXml processes commands. The marshalling of XML used to
   occur in the various XML processors (see item 5, above). This prevented the
   ability to process multiple commands for a single output file. Now the
   marshalling occurs in SignetXml after all commands have been processed.

7. Updated commandHelp.txt to reflect the new command-line syntax.

8. The JavaDocs now contain references to classes in package
    edu.internet2.middleware.signet.util.xml

9. Do not create empty Elements in the XML output.

10. Include the XML creation date as a SignetXml attribute.

11. In class XmlImporter
    - Added JavaDoc comments
    - Added new constructor: XmlImporter(Signet signet, Log log). This, in
      conjunction with the new method importXml(InputStream inFile, CommandArg cmd)
      allows one instance of XmlImporter to process multiple input streams
      consecutively.
    - Removed unused methods: importSubjects, importAssignments, importProxies

12. Bug (not reported in Jira): XmlImporter was not importing Proxies.

13. In class edu.internet2.middleware.signet.util.xml.adapter.Util
    - Removed unused methods: convertTimeToCal, convertCalToTime
    - Added JavaDoc comments

14. Removed build_QS.xml and buildSignet_QS.properties from the zip/tar
    distribution build.


Release Notes for CVS-tagged version Signet_1_3_0rc03
-----------------------------------------------------

1. Bug fixes:
    Sig-32 : NullPointerException from "View XML" link

2. In SignetXml, an ObjectNotFoundException was being thrown if a query
    resulted in no rows found (e.g. signetxml export scopeTree -scopeId foobar). 
    In addition, the query would return an uninitialized object (e.g.
    TreeImpl, with all fields set to null) instead of returning a null.

3. API changes:
    a. removed "throws ObjectNotFoundException" from the load(...) methods in
        HibernateDB.java
    b. added new method: HibernateDB.getPermissionById(int permKey)

4. Updated SignetXml/commandHelp.txt to show that the absense of a filter
    on the "export subsystem" command is a valid option (i.e. returns all
    subsystems).

5. Resource-ified three error messages in HibernateDB.java.


Release Notes for CVS-tagged version Signet_1_3_0 (final)
---------------------------------------------------------

1. Fixed some discrepencies in log4j configuration file.

2. Upgraded JAXB to version 2.1.7.

3. Added UML class diagram for Signet metadata.

4. Bug SIG-40: ...there are no limits that can be set in the UI...
   Also fixed a related issue where Limits were not displayed in SignetXml
   outputs.

5. Fixed an incorrect Subsystem being displayed in the "viewXML" UI component.

6. Added a root directory to all build-generated archive files (*.zip, *.tgz)

